<div class="container">
  <div class="row">
    <div class="col-md-12 d-flex justify-content-between">
      <button class="btn btn-info" (click)="redirectToUSersPage()">Back</button>
      <nz-select [(ngModel)]="isQuestionReport" (ngModelChange)="changeReport()" class="w-25">
        <nz-option [nzValue]="true" nzLabel="Questions"></nz-option>
        <nz-option [nzValue]="false" nzLabel="Sentences"></nz-option>
      </nz-select>
    </div>
    <div
      class="col-md-12 d-flex justify-content-center mb-3 position-relative mt-5"
      *ngIf="totalAnsweredWrong"
    >
      <p class="total-answered position-absolute text-center">
        Total <br />
        {{ totalAnswered }}
      </p>
      <canvas
        baseChart
        [data]="doughnutChartDatasets"
        [options]="doughnutChartOptions"
        [type]="'doughnut'"
      >
      </canvas>
    </div>
    <div class="col-md-12">
      <nz-table
        #basicTable
        *ngIf="questionsAnswers.length"
        [nzData]="questionsAnswers"
        [nzBordered]="true"
      >
        <thead>
          <tr>
            <th *ngFor="let head of heads">{{ head }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let questionsAnswer of questionsAnswers; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ questionsAnswer.question }}</td>
            <td>{{ questionsAnswer.userAnswer }}</td>
            <td>{{ questionsAnswer.correctAnswer }}</td>
            <td>
              <div class="d-flex justify-content-center">
                <i
                  class="fa-solid fa-circle-check text-success"
                  *ngIf="questionsAnswer.isCorrect == 1"
                ></i>
                <i
                  class="fa-solid fa-circle-xmark text-danger"
                  *ngIf="questionsAnswer.isCorrect == 0"
                ></i>
              </div>
            </td>
            <td>
              {{ questionsAnswer.answerTime | date : "medium" }}
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
</div>
